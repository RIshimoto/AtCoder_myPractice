#include <bits/stdc++.h>
#define rep(i, n) for(int i = 0; i < (n); i++)
using namespace std;

signed main(void)
{
	int n , p;
	cin >> n >> p;
	int a[n],cnt_1[n], cnt_0[n];
	long long ans;
	
	rep(i, n) 
	{
		cin >> a[i];
		cnt_0[i] = cnt_1[i] = 0;
	}
	rep(i, n)
	{
		if (a[i] % 2 == 0)
			cnt_0[i]++;
		else
			cnt_1[i]++;
	}
	rep(i, n - 1)
	{
		cnt_0[i + 1] += cnt_0[i];
		cnt_1[i + 1] += cnt_1[i];
	}
	ans = 0;
	rep(i, n)
	{
		int x, y;
		x = cnt_1[i];
		y = cnt_0[i];
		if (p == 0)
			ans += x * (x - 1) / 2 + y;
		else if (p == 1)
			ans += x + x * y;
		cout << ans << endl;
	}
	if (p == 0 && n == 2) ans--;
	cout << ans << endl;
	return 0;
}
